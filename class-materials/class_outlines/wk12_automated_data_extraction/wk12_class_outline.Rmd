---
title: "LAS 6292: AUTOMATED DATA EXTRACTION"
date: "updated: `r Sys.Date()`"
header-includes:
   - \usepackage[default]{sourcesanspro}
   - \usepackage[T1]{fontenc}
mainfont: SourceSansPro
geometry: margin=1in
fontsize: 12pt
linkcolor: blue
urlcolor: blue
output:
  pdf_document: default
  html_document:
    df_print: paged
  rmdformats::robobook: default
---


```{r setup, include=FALSE}
library(knitr)
library(rmdformats)

## Global options
options(max.print="75")
opts_chunk$set(echo=FALSE,
	             cache=TRUE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
opts_knit$set(width=75)
```

## Pre-Class Preparation (Instructor):  

**Send in an email to students:  **  

  * content of any pre-class emails.

**Bring to Class:  **  

  * Snacks
  * Flip charts and markers
  * Dry write markers
  * Tent cards for student names

## Objectives and Competencies:   

* OCR 

  
## Pre-class Preparation (Students):

### **Readings**


### **Online Lectures:**  

* if any link here

  
## Class Outline


```{r timer, echo=FALSE}
t1_overview <- 10
t2_overview <- 10
breakout1 <- 15
breakout1_return <-35
cleaning_demo <-10
snack_break <- 10
proj_overview <- 15
breakout2 <- 45

total_time <- t1_overview + 
  t2_overview + 
  breakout1 + 
  breakout1_return + 
  cleaning_demo +
  snack_break + 
  proj_overview + 
  breakout2 

time_remain <- 180 - total_time
```



### **Topic 1 Overview: Optical Character Recognition (OCR)** (`r t1_overview` min)


1. OCR: google, website, R

2. Data from Published Figs

3. Data Packages Govt Data via API

4. text analysis

1.Video Primer: [What is OCR?](what is ocr? https://www.youtube.com/watch?v=Q5U_VEmcY-M)

2. Different OCR Tools - text and data from pdfs into csv,txt, etc.

    * Google Drive - Video Primer: [OCR with Google Drive](https://www.youtube.com/watch?v=4lApeCNK6Ic)

    * [pdf to excel](https://smallpdf.com/pdf-to-excel)

    * [PDFTables](https://pdftables.com/) will convert PDF to .csv, and has an [API](https://pdftables.com/blog/convert-pdf-to-excel-r) so you can do your conversions in bulk with R. You can do ~25 pages free; large numbers are reasonably priced.

    * R tools: `pdfreader` and `tabulizer`
    
        * [written tutorial 1](http://theautomatic.net/2018/08/24/getting-data-from-pdfs-the-easy-way-with-r/)
        * [written tutorial 2](https://www.charlesbordet.com/en/extract-pdf/#)
        * [written tutorial 3](https://datascienceplus.com/extracting-tables-from-pdfs-in-r-using-the-tabulizer-package/)
        * [Video Tutorial 1](https://www.youtube.com/watch?v=DhY3V4LCdps)
        * [Video Tutorial 2](https://www.youtube.com/watch?v=6ItyOgS2noc)
        * Detailed [Blog Post / Tutorial](https://datascienceplus.com/extracting-tables-from-pdfs-in-r-using-the-tabulizer-package/)

    * [Mathpix Snip](https://mathpix.com/) digitizes handwritten or printed text, and copies outputs to the clipboard that can be pasted into LaTeX editors like Overleaf, Markdown editors like Typora, Microsoft Word, and more. 

3. Extracting Tables from images using R package `magick`.
  
    * Detailed [Blog Post / Tutorial](https://themockup.blog/posts/2021-01-18-reading-tables-from-images-with-magick/)

3. Extracting Data from Published Figures

    * Ankit Rohagni's [Web Plot Digitizer](https://automeris.io/WebPlotDigitizer/)
    * WPD [Video Tutorial](https://www.youtube.com/watch?v=P7GbGdMvopU)
    * WPD Tutorial [Blog Post](https://towardsdatascience.com/extracting-digitising-data-from-plots-in-scientific-papers-or-images-6e098cb887aa)
    * Alternative 1: Estracting data from images using R package [`magick`](https://www.r-bloggers.com/2019/06/extracting-the-data-from-static-images-of-graphs-with-magick/)
    * Alternative 2: [GetData](http://www.getdata-graph-digitizer.com/index.php) extracts data automatically from scanned images (~$30).
    * Alternative 3: r package [`digitize`](https://cran.r-project.org/web/packages/digitize/digitize.pdf) will extract data from scatterplots within the R environment. [This article](https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Poisot.pdf) will walk you through the process.


3. Text Mining

    * [Text Mining with R](https://www.tidytextmining.com/) by Julia Silge and David Robinson
    * [`gutenbergr`](https://cran.r-project.org/web/packages/gutenbergr/index.html): Download and Process Public Domain Works from [Project Gutenberg](https://www.gutenberg.org/). Tutorial can be found [here](https://docs.ropensci.org/gutenbergr/)

4. Government & Related Data

    * [Data.gov](https://www.data.gov/) (the open data portal of the US Government) and [Using Data.gov APIs in R](https://data.library.virginia.edu/using-data-gov-apis-in-r/)
    * the [rOpengov Project](http://ropengov.org/)
    * [Open Fiscal Data Package](http://www.fiscaltransparency.net/ofdp/) 
    * [`educationdata`](https://urbaninstitute.github.io/education-data-package-r/#educationdata): Retrieve data from the Urban Institute’s Education Data API as a data.frame for easy analysis. See [also here](https://github.com/UrbanInstitute/education-data-package-r)
    * a [huge list](https://cengel.github.io/gearup2016/SULdataAccess.html) of data sources for social scientists available with R tools 
    *accessing [World bank Data](https://vincentarelbundock.github.io/WDI/) with R

4. Web Scraping

    * Library Carpentry Lesson Webscraping https://librarycarpentry.org/lc-webscraping/
    * Start Here: [Introduction to webscraping](https://nceas.github.io/oss-lessons/data-liberation/intro-webscraping.html)
    * Video: [Scraping WebData in R with rvest ](https://www.youtube.com/watch?v=4IYfYx4yoAI)
    * Video: [Practical Introduction to Web Scraping using R](https://www.youtube.com/watch?v=l37n_HDD1qs)
    * Very nice [written tutorial](https://www.scrapingbee.com/blog/web-scraping-r/)...
    * ....and another one, this time from the [UC Business Analytics R Programming Guide](http://uc-r.github.io/scraping)
    * [scraping HTML text](http://bradleyboehmke.github.io//2015/12/scraping-html-text.html#specific_nodes) and [scraping HTML tables](http://bradleyboehmke.github.io/2015/12/scraping-html-tables.html)
    * [SelectorGadget](https://selectorgadget.com/) is useful to id CSS selectors

### *Topic 2 Overview: Topic*  (`r t2_overview` min)

Image is from: Pereira, Thales Augusto Zamberlan. (2018). Poor Man's Crop? Slavery in Brazilian Cotton Regions (1800-1850). Estudos Econômicos (São Paulo), 48(4), 623-655. https://doi.org/10.1590/0101-41614843tzp

Intro text

### Breakout & Return Results 

(we did this in-class together as a live-coding-type-exercise): using     * [Web Plot Digitizer](https://automeris.io/WebPlotDigitizer/), we extracted data dfrom several figures that differ in quality and content.


**Breakout (`r breakout1` min): ** topic of breakout 

**Returning results & Take-home message (`r breakout1_return` min)** 
summary of results

2. **Take-home message:** message.

additional text
      
### anything before the break? (`r cleaning_demo` min)

if so, describe here    
    
### Break (`r snack_break` min)

### Free Time

There are `r time_remain` min remaining that can be used to -----


# Tools & Resources


## Collecting Social Media Data

1. Scraping [Twitter Data with R](https://utstat.toronto.edu/~nathan/teaching/sta4002/Class1/scrapingtwitterinR-NT.html) or with [Tweetsets](https://programminghistorian.org/en/lessons/beginners-guide-to-twitter-data)

## Cell Phone Data

1. Exploratory analyses [Part 1](https://www.r-bloggers.com/2019/11/exploratory-data-analysis-of-cell-phone-usage-with-r-part-1/) and [Part 2](https://www.r-bloggers.com/2019/12/exploratory-data-analysis-of-cell-phone-usage-with-r-part-2/)

## Image Analysis

1. Pennekamp, F. and Schtickzelle, N. (2013), Implementing image analysis in laboratory‐based experimental systems for ecology and evolution: a hands‐on guide. Methods Ecol Evol, 4: 483-492. https://doi.org/10.1111/2041-210X.12036 

2. How to build your own image recognition app with R! [Part 1](https://www.r-bloggers.com/2021/03/how-to-build-your-own-image-recognition-app-with-r-part-1/?fbclid=IwAR3P8GNeEHAtm62iOIhhFe45ofZjn-zlwezc5TtM0pbayfUdjmwAr3UoB1Q) and [Part 2](https://www.r-bloggers.com/2021/03/how-to-build-your-own-image-recognition-app-with-r-part-2/)

## Wearable Devices

1. Izmailova, E.S., Wagner, J.A. and Perakslis, E.D. (2018), Wearable Devices in Clinical Trials: Hype and Hypothesis. Clin. Pharmacol. Ther., 104: 42-52. https://doi.org/10.1002/cpt.966

2. Loncar-Turukalo T, Zdravevski E, Machado da Silva J, Chouvarda I, Trajkovik V. Literature on Wearable Technology for Connected Health: Scoping Review of Research Trends, Advances, and Barriers J Med Internet Res 2019;21(9):e14017 [doi: 10.2196/14017](https://www.jmir.org/2019/9/e14017/)

## Automated Data Collection
 
1. [Automated Data Collection (ADC) Basics](https://www.inventoryops.com/ADC.htm)


## Education Data 

1. [`edbuildr`](https://github.com/EdBuild/edbuildr): import [EdBuild’s master dataset](http://viz.edbuild.org/workshops/edbuildr/) of school district finance, student demographics, and community economic indicators for every school district in the United States.


# Sources

1. Tafti A.P., Baghaie A., Assefi M., Arabnia H.R., Yu Z., Peissig P. (2016) OCR as a Service: An Experimental Evaluation of Google Docs OCR, Tesseract, ABBYY FineReader, and Transym. In: Bebis G. et al. (eds) Advances in Visual Computing. ISVC 2016. Lecture Notes in Computer Science, vol 10072. Springer, Cham. https://doi.org/10.1007/978-3-319-50835-1_66

2. Correia, R.A., Ladle, R., Jarić, I., Malhado, A.C.M., Mittermeier, J.C., Roll, U., Soriano‐Redondo, A., Veríssimo, D., Fink, C., Hausmann, A., Guedes‐Santos, J., Vardi, R. and Di Minin, E. (2021), Digital data sources and methods for conservation culturomics. Conservation Biology, 35: 398-411. https://doi.org/10.1111/cobi.13706


[Building R and Stata packages for the Education Data Portal](https://urban-institute.medium.com/building-r-and-stata-packages-for-the-education-data-portal-b88760c07233)