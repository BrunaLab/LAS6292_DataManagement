---
title: 'In-class Activities - Week 14'
author: R package build
date: '2022-02-11'
slug: class-week-14
categories:
  - In-Class Assignment
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: '2022-02-11T11:00:42-05:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
weight: 24
---

## Part 1: Automated Data Extraction - Live Coding

1. **Text Analysis**, including downloading from Project Gutenberg, Sentiment Analysis, and Visualizations: [link to code](https://gist.github.com/embruna/20a42d68d3c56047fbffc585feb64fd1)
1. **Scrape tables from websites into R** with `rvest`: 
    * Importing a Wikipedia table to R: [tutorial](https://kyleake.medium.com/wikipedia-data-scraping-with-r-rvest-in-action-3c419db9af2d).  
    * Scraping a table from a generic webpage: [code](https://gist.github.com/embruna/0614e25e6113f7d491f6ba826af87e04)
    * You can also go old-school and import direct into google sheets. You can use this tutorial, or just give it a try: import the table on the Wikipedia page of [List of Countries by Population Size](https://en.wikipedia.org/wiki/List_of_countries_by_population_(United_Nations) by clicking on cell A1, then entering this in the function bar: `=ImportHtml("https://en.wikipedia.org/wiki/List_of_countries_by_population_(United_Nations)", "table", 1)`. the URL is the page for the entry, and `,1` at the end indicates what table you want. 

![Efficiency Calculator, via [xkcd](https://xkcd.com/1205/)](https://imgs.xkcd.com/comics/is_it_worth_the_time.png)  



## Part 2: Optical Character Recognition (OCR)

The following are three OCR sites. 

  * [SmallPDF](https://smallpdf.com/)
  * [OCR2Edit](www.ocr2edit.com)
  * [pdf2go](https://www.pdf2go.com/)

Use these websites to:

  1. Extract text from these pdfs and images
      * [ha_data.pdf](https://github.com/BrunaLab/LAS6292_DataManagement/blob/master/course-materials/class-sessions/14-automated-data-extraction/ocr_files_for_class/ocr_to_csv/ha_data.pdf)
      * [pdf_of_excel.pdf](https://github.com/BrunaLab/LAS6292_DataManagement/blob/master/course-materials/class-sessions/14-automated-data-extraction/ocr_files_for_class/ocr_to_csv/pdf_of_excel.pdf)
      * [pic_of_invoice_jpg.jpeg](https://github.com/BrunaLab/LAS6292_DataManagement/blob/master/course-materials/class-sessions/14-automated-data-extraction/ocr_files_for_class/ocr_to_csv/pic_of_invoice_jpg.jpeg)
      * [pic_of_table_jpg.jpeg](https://github.com/BrunaLab/LAS6292_DataManagement/blob/master/course-materials/class-sessions/14-automated-data-extraction/ocr_files_for_class/ocr_to_csv/pic_of_table_jpg.jpeg)

    and  

  2. Importing the data from these images and pdf's into an excel sheet
    * [handwriting_pdf.pdf](https://github.com/BrunaLab/LAS6292_DataManagement/blob/master/course-materials/class-sessions/14-automated-data-extraction/ocr_files_for_class/ocr_to_text/handwriting_pdf.pdf)
    * [text_photo_3.jpeg](https://github.com/BrunaLab/LAS6292_DataManagement/blob/master/course-materials/class-sessions/14-automated-data-extraction/ocr_files_for_class/ocr_to_text/text_photo_3.jpeg)
    * [typed_text_1.jpeg](https://github.com/BrunaLab/LAS6292_DataManagement/blob/master/course-materials/class-sessions/14-automated-data-extraction/ocr_files_for_class/ocr_to_text/typed_text_1.jpeg)
  
  3. ***Bonus *if time permits)*** 
    * Try using google's OCR to import into google Docs ([tutorial](https://www.klippa.com/en/blog/information/google-docs-ocr/)). Note also [Google's AI OCR](https://cloud.google.com/use-cases/ocr).
    * Try with your [iPhone](https://support.apple.com/en-us/HT212630) or [Android phone](https://www.usatoday.com/story/tech/tips/2022/05/08/iphone-android-use-smartphone-as-scanner/9674231002/).

4. Upload the OCR scans to Canvas

# Part 3: Extracting data from published figures


* [Web Plot Digitizer](https://automeris.io/WebPlotDigitizer/) to extract data from several figures that differ in quality and content. Images are from from Pereira, Thales Augusto Zamberlan. (2018). Poor Man's Crop? Slavery in Brazilian Cotton Regions (1800-1850). Estudos Econômicos (São Paulo), 48(4), 623-655. https://doi.org/10.1590/0101-41614843tzp




## Part 4: Learning R Markdown

What is R Markdown? Short version: it's a way to convert your R Markdown file (with text and code) into any one of several output formats including: HTML, PDF, MS Word, slides for presentations (Beamer, HTML5 slides), books, dashboards, scientific articles, and websites. You can find the [complete overview here](https://rmarkdown.rstudio.com/). A gallery of the different things you can do with R Markdown [can be found here](https://rmarkdown.rstudio.com/gallery.html).

How does it work? 

> "When you knit the document, R Markdown sends the .Rmd file to knitr, http://yihui.name/knitr/, which executes all of the code chunks and creates a new markdown (.md) document which includes the code and its output. The markdown file generated by knitr is then processed by pandoc, http://pandoc.org/, which is responsible for creating the finished file. The advantage of this two step workflow is that you can create a very wide range of output formats""

#### 1. Tutorials & Resources

 - HW's tutorial is [here](https://r4ds.had.co.nz/r-markdown.html)
 - a [PC-specific tutorial](https://medium.com/@sorenlind/create-pdf-reports-using-r-r-markdown-latex-and-knitr-on-windows-10-952b0c48bfa9)
 - a [MacOS specific tutorial](https://medium.com/@sorenlind/create-pdf-reports-using-r-r-markdown-latex-and-knitr-on-macos-high-sierra-e7b5705c9fd) 
 - [This one](https://ourcodingclub.github.io/tutorials/rmarkdown/) is really comprehensive, probably the best of the group.
 - Actually, I like [this one](https://ucsbcarpentry.github.io/R-markdown/02-intro/index.html) even better 
 - R Markdown Cheat Sheet: [Download here](https://posit.co/resources/cheatsheets/)
 - LaTeX Cheat Sheet: [Download here](https://posit.co/resources/cheatsheets/) from the "Contributed" tab

#### 2. Install the following packages: 

- [`bookdown`](https://pkgs.rstudio.com/bookdown/)
- [`knitr`](https://github.com/yihui/knitr) (an overview is [here](https://yihui.org/knitr/))

#### 3. If you want to render to pdf, you will also need to install some additional tools: 

- [Pandoc](https://github.com/jgm/pandoc/releases). After installation, you should add the path of the Pandoc executable to the system PATH.
- A TeX distribution. For PC You can use [TeX Live](https://www.tug.org/texlive/) or [MiKTeX](https://miktex.org/download); for [MacTeX](https://tug.org/mactex/mactex-download.html) base on your platform. 
- Just in case, here is [TexShop](https://pages.uoregon.edu/koch/texshop/)
- Note: TeX Live is designed to be cross-platform (running on Unix, MacOS, and Windows), MacTeX includes Mac-specific utilities and front-ends (such as TeXShop and BibDesk).
- Suggestions for the YAML (including latex packages and commands) to start customizing your pdf: [link to sample YAML](https://gist.github.com/embruna/dae2ff1f1c4b56ab0193fd29d22ba8af)  
- If you are writing a scientific paper, the [`rticles` package](https://pkgs.rstudio.com/rticles/) provides a suite of custom R Markdown templates for different journals. It is really convenient and easy to use.
- Even more useful is the [`papaja` package](https://github.com/crsh/papaja). This provides a template for preparing journal articles in the APA style, and is very customizable (it's the default I use for most of my papers).
- You can easily insert citations in your R Markdown document using the [`citr` package](https://github.com/crsh/citr). You can insert citations directly with the RStudio add-in and link to [Zotero libraries](https://www.zotero.org/).



<!--- ## Grading Rubric: ---->


